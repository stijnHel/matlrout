function [dout,m,j,h,mn,s,wd,wds]=calccaldate(jd,isjc,bStringOut)% calccaldate - Calculate calender day%%          [d,m,j,h,mn,s,wd,wds] = calccaldate(jd[,isjc])%          s = calccaldate(jd,isjc,bStringOut)%          calccaldate(jd[,isjc]) ---> prints date in command line wiindow%%   ref Astronomical Algorithms - J. Meeuws - chap. 7jd=jd(:);if ~exist('isjc','var')||isempty(isjc)	isjc = all(jd<40);endif ~exist('bStringOut','var')||isempty(bStringOut)	bStringOut = false;endif isjc	jd=jd*36525+2451545;endjd=jd+1e-8;x=jd+0.5;Z=floor(x);F=x-Z;if Z<2299161	A=Z;else	alpha=floor((Z-1867216.25)/36524.25);	A=Z+1+alpha-floor(alpha/4);endB=A+1524;C=floor((B-122.1)/365.25);D=floor(365.25*C);E=floor((B-D)/30.6001);d=B-D-floor(30.6001*E)+F;if isscalar(E)	if E<14		m=E-1;	else		m=E-13;	end	if m>2		j=C-4716;	else		j=C-4715;	endelse	m=E-1-12*(E>=14);	j=C-4715-(m>2);endif nargout==0	t=(d-floor(d))*24;	h=floor(t);	sc=(t-h)*60;	mn=floor(sc);	sc=(sc-mn)*60;	fprintf('%02d-%02d-%04d %02d:%02d:%05.2f\n',[floor(d)';m';j';h';mn';sc']);elseif bStringOut	t=(d-floor(d))*24;	h=floor(t);	sc=(t-h)*60;	mn=floor(sc);	sc=(sc-mn)*60;	dout=reshape(sprintf('%02d-%02d-%04d %02d:%02d:%05.2f',[floor(d)';m';j';h';mn';sc']),22,[])';elseif nargout>3||nargout==1	h=(d-floor(d))*24;	d=floor(d);	mn=(h-floor(h))*60;	h=floor(h);	s=(mn-floor(mn))*60;	mn=floor(mn);	if nargout==1		dout=[d m j h mn s];	else		wd=floor(rem(jd+1.5,7));		if nargout>4			WD={'zondag','maandag','dinsdag','woensdag','donderdag','vrijdag','zaterdag'};			wds=WD{wd+1};		end		dout=d;	endend